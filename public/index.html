<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Odisika Importation - Learn & Grow</title>
    <link rel="stylesheet" href="public/styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/profile.css">
    <link rel="stylesheet" href="styles/auth.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">

</head>
<body>

 <!-- ğŸŒŸ Navbar -->
<nav class="navbar">
    <div class="logo">Odisika</div>
    <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="courses.html">Courses</a></li>
        <li><a href="access-course.html">ğŸ“š Access Your Course</a></li>
        <li><a href="enroll.html">Enroll</a></li>
        <li id="authNav">
            <a href="login.html" id="authLink">
                <span id="authText">ğŸ”‘ Login</span>
            </a>
        </li>
    </ul>
</nav>
<!-- ğŸŒŸ Access Course Modal -->
<div id="accessModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" id="closeAccessModal">&times;</span>
        <h2>ğŸ”‘ Enter Access Code</h2>
        <p>Enter the access code provided to unlock your course.</p>
        
        <input type="text" id="accessCodeInput" placeholder="Enter Access Code">
        <button id="verifyAccessBtn">âœ… Verify</button>
        
        <p id="accessMessage" class="message"></p>
    </div>
</div>

<!-- ğŸ”„ Loading Screen -->
<div id="loadingScreen" class="loading-overlay">
    <div class="loading-spinner"></div>
    <p>â³ Verifying... Please Wait</p>
</div>



<!-- ğŸŒŸ Profile Pop-up (Hidden by Default) -->
<div id="profileModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" id="closeProfile">&times;</span>
        <h2>ğŸ‘¤ User Profile</h2>
        <p><strong>Name:</strong> <span id="userName">Guest</span></p>
        <p><strong>Email:</strong> <span id="userEmail">Not Logged In</span></p>
        <p><strong>Status:</strong> <span id="userStatus">ğŸ”’ Not Enrolled</span></p>

        <h3>ğŸ“š Enrolled Courses</h3>
        <ul id="courseList">
            <li>âš ï¸ No courses enrolled yet.</li>
        </ul>
        

        <h3>âš™ï¸ Settings</h3>
        <button id="editProfile">âœï¸ Edit Profile</button>
        <button id="resetPassword">ğŸ”‘ Reset Password</button>
        <button id="logout" class="logout-btn">ğŸšª Logout</button>
    </div>
</div>




    <!-- ğŸ¯ Hero Section -->
    <header class="hero">
        <div class="hero-content">
            <h1>Upgrade Your Skills</h1>
            <p>Enroll in top courses and advance your career.</p>
            <a href="courses.html" class="btn">Explore Courses</a>
        </div>
    </header>

    <!-- ğŸš€ Features Section -->
    <section class="features">
        <h2>Why Choose Odisika Importation?</h2>
        <div class="features-grid">
            <div class="feature">
                <img src="assets/icons/GIFT.png" alt="Certificate">
                <h3>Certified Courses</h3>
                <p>Get industry-recognized certificates after completing your courses.</p>
            </div>
            <div class="feature">
                <img src="assets/icons/PERF7.png" alt="Expert">
                <h3>Expert Instructors</h3>
                <p>Learn from professionals with real-world experience.</p>
            </div>
            <div class="feature">
                <img src="assets/icons/real - es logo.png" alt="Online">
                <h3>100% Online</h3>
                <p>Study from anywhere at your own pace with flexible schedules.</p>
            </div>
        </div>
    </section>

    <!-- ğŸ“š Popular Courses -->
    <section class="courses">
        <h2>Popular Courses</h2>
        <div class="course-grid">
            <div class="course-card">
                <img src="assets/images/Alibaba.jpg" alt="Course 1">
                <h3>Web Development</h3>
                <p>Master HTML, CSS, JavaScript, and build real-world projects.</p>
                <a href="enroll.html" class="btn">Enroll Now</a>
            </div>
            <div class="course-card">
                <img src="assets/images/pinduoduo.jpg" alt="Course 2">
                <h3>Python for Beginners</h3>
                <p>Learn Python programming from scratch with hands-on exercises.</p>
                <a href="enroll.html" class="btn">Enroll Now</a>
            </div>
            <div class="course-card">
                <img src="assets/images/1688.jpg" alt="Course 3">
                <h3>Digital Marketing</h3>
                <p>Become a marketing pro with SEO, PPC, and social media strategies.</p>
                <a href="enroll.html" class="btn">Enroll Now</a>
            </div>
        </div>
    </section>

    <!-- ğŸ’¬ Testimonials -->
    <section class="testimonials">
        <h2>What Our Students Say</h2>
        <div class="testimonial-container">
            <div class="testimonial">
                <p>"Odisika Trainig transformed my career! The web development course was amazing."</p>
                <h4>- Sarah M.</h4>
            </div>
            <div class="testimonial">
                <p>"Highly recommend! The instructors are knowledgeable and engaging."</p>
                <h4>- David A.</h4>
            </div>
            <div class="testimonial">
                <p>"I got certified and landed a job in just 3 months. Best decision ever!"</p>
                <h4>- Jessica R.</h4>
            </div>
        </div>
    </section>

    <!-- ğŸš€ Call to Action -->
    <section class="cta">
        <h2>Start Learning Today</h2>
        <p>Join thousands of students and take your skills to the next level.</p>
        <a href="enroll.html" class="btn">Enroll Now</a>
    </section>

    <!-- âš¡ Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 Odisika Importation. All rights reserved.</p>
            <ul class="footer-links">
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Terms of Service</a></li>
                <li><a href="#">Contact Us</a></li>
            </ul>
        </div>
    </footer>

    <!-- âœ… Load Firebase SDKs (UMD Version - Works Globally) -->
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore-compat.js"></script>

    <!-- âœ… Load Firebase Config AFTER Firebase SDK -->
    <script src="firebase-config.js"></script>

    <script src="scripts/auth.js"></script>

    <!-- âœ… Now Load Your JavaScript (Ensuring Firebase is Ready) -->
    <script src="scripts/navbar.js"></script>
    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            console.log("âœ… Page Loaded - Access Course System Active!");
        
            // ğŸ“Œ Get Elements
            const accessCourseLink = document.getElementById("accessCourseLink");
            const accessModal = document.getElementById("accessModal");
            const closeAccessModal = document.getElementById("closeAccessModal");
            const verifyAccessBtn = document.getElementById("verifyAccessBtn");
            const accessCodeInput = document.getElementById("accessCodeInput");
            const accessMessage = document.getElementById("accessMessage");
            const loadingScreen = document.getElementById("loadingScreen");
        
            
        
            // âœ… Verify Access Code
            verifyAccessBtn.addEventListener("click", async function () {
                console.log("ğŸ” Verifying Access Code...");
                const accessCode = accessCodeInput.value.trim();
        
                if (!accessCode) {
                    accessMessage.textContent = "âš ï¸ Please enter an access code!";
                    return;
                }
        
                try {
                    const db = firebase.firestore();
                    const query = await db.collection("enrollments")
                        .where("accessCode", "==", accessCode)
                        .get();
        
                    if (query.empty) {
                        accessMessage.textContent = "âŒ Invalid access code!";
                        return;
                    }
        
                    console.log("âœ… Access Code Verified!");
                    
                    // ğŸ”„ Show Loading Animation
                    loadingScreen.style.display = "flex";
        
                    // â³ Simulate 5-second loading before redirect
                    setTimeout(() => {
                        loadingScreen.style.display = "none"; // âœ… Hide loading
                        accessModal.style.display = "none"; // âœ… Close modal
                        window.location.href = "course.html"; // ğŸ”¥ Redirect to course page
                    }, 5000);
                    
                } catch (error) {
                    console.error("ğŸš¨ Error verifying access code:", error);
                    accessMessage.textContent = "âŒ Error verifying access code!";
                    loadingScreen.style.display = "none"; // âœ… Hide loading if error occurs
                }
            });
        });
        </script>
        

</body>
</html>
